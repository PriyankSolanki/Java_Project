<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Modifier l'apprenti</title>
    <link rel="stylesheet" th:href="@{/css/apprentiInfos.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/editApprenti.css}">
</head>
<body>
<div th:replace="partials/navbar :: navbar"></div>

<main class="apprenti-page">
    <header class="page-header">
        <h1>Modifier l'apprenti</h1>
        <a class="back-btn" th:href="@{/ui/dashboard/dashboard}">‚Üê Annuler</a>
    </header>

    <form th:action="@{/ui/dashboard/apprentice/edit}" th:object="${apprenti}" method="post">
        <input type="hidden" th:field="*{id}"/>
        <input type="hidden" th:field="*{anneeAcademique.id}" />
        <input type="hidden" th:field="*{anneeAcademique.active}" />
        <input type="hidden" th:field="*{tuteurEnseignant.id}" />
        <!-- SECTION 1 : Informations g√©n√©rales -->
        <section class="info-section">
            <h2>Informations g√©n√©rales</h2>
            <div class="info-grid">
                <div><span>Nom</span><input th:field="*{nom}" type="text" placeholder="Nom"/></div>
                <div><span>Pr√©nom</span><input th:field="*{prenom}" type="text" placeholder="Pr√©nom"/></div>
                <div><span>Email</span><input th:field="*{email}" type="email" placeholder="Email"/></div>
                <div><span>T√©l√©phone</span><input th:field="*{telephone}" type="text" placeholder="T√©l√©phone"/></div>
                <div><span>Adresse</span><input th:field="*{adresse}" type="text" placeholder="Adresse"/></div>
                <div><span>Niveau</span><input th:field="*{anneeLevel}" type="text" placeholder="Niveau"/></div>
                <div><span>√âtat</span><input th:field="*{etat}" type="text" placeholder="√âtat"/></div>
                <div><span>Promotion</span><input th:field="*{anneeAcademique.annee}" type="text" placeholder="Promotion"/></div>
            </div>
        </section>

        <!-- SECTION 2 : Entreprise -->
        <section class="info-section enterprise" th:if="${apprenti.entreprise != null}">
            <h2>Entreprise</h2>
            <div class="info-grid">
                <input type="hidden" th:field="*{entreprise.id}" />
                <div><span>Raison sociale</span><input th:field="*{entreprise.raisonSociale}" type="text"/></div>
                <div><span>Adresse</span><input th:field="*{entreprise.adresse}" type="text"/></div>
                <div><span>Adresse</span><input th:field="*{entreprise.infosAcces}" type="text"/></div>
            </div>
        </section>

        <!-- SECTION 3 : Ma√Ætre d‚Äôapprentissage -->
        <section class="info-section supervisor" th:if="${apprenti.maitreApprentissage != null}">
            <h2>Ma√Ætre d‚Äôapprentissage</h2>
            <div class="info-grid">
                <input type="hidden" th:field="*{maitreApprentissage.id}" />
                <div><span>Nom</span><input th:field="*{maitreApprentissage.nom}" type="text"/></div>
                <div><span>Pr√©nom</span><input th:field="*{maitreApprentissage.prenom}" type="text"/></div>
                <div><span>Email</span><input th:field="*{maitreApprentissage.email}" type="email"/></div>
                <div><span>Poste</span><input th:field="*{maitreApprentissage.poste}" type="text"/></div>
                <div><span>T√©l√©phone</span><input th:field="*{maitreApprentissage.telephone}" type="text"/></div>
            </div>
        </section>

        <!-- SECTION 4 : √âvaluation √©cole -->
        <section class="info-section evaluation">
            <h2>√âvaluation de l'√©cole</h2>
            <div class="info-grid">
                <input type="hidden" th:field="*{evaluationEcole.id}"/>
                <div><span>Th√®me</span><input th:field="*{evaluationEcole.theme}" type="text"/></div>
                <div><span>Note</span><input th:field="*{evaluationEcole.noteFinale}" type="number" step="0.1"/></div>
                <div class="full"><span>Commentaire</span><textarea rows="5" cols="100" th:field="*{evaluationEcole.commentaires}"></textarea></div>
            </div>
        </section>

        <!-- SECTION 5 : Soutenance -->
        <section class="info-section soutenance">
            <h2>Soutenance</h2>
            <div class="info-grid">
                <input type="hidden" th:field="*{soutenance.id}"/>
                <div><span>Date</span><input th:field="*{soutenance.date}" type="date"/></div>
                <div><span>Note</span><input th:field="*{soutenance.noteFinale}" type="number" step="0.1"/></div>
                <div class="full"><span>Commentaire</span><textarea rows="5" cols="100" th:field="*{soutenance.commentaires}"></textarea></div>
            </div>
        </section>

        <!-- SECTION 6 : Mission -->
        <section class="info-section mission">
            <h2>Mission</h2>
            <div class="info-grid">
                <div><span>Mots cl√©s</span><input th:field="*{mission.motsCles}" type="text"/></div>
                <div><span>M√©tier</span><input th:field="*{mission.metierCible}" type="text"/></div>
                <div class="full"><span>Commentaire</span><textarea rows="5" cols="100" th:field="*{mission.commentaires}"></textarea></div>
            </div>
        </section>

        <!-- SECTION 7 : Infos suppl√©mentaires -->
        <section class="info-section tutor">
            <h2>Infos suppl√©mentaires</h2>
            <div class="info-grid">
                <div class="full"><span>Remarques</span><textarea rows="5" cols="100" th:field="*{remarques}"></textarea></div>
                <div class="full"><span>Feedback tuteur</span><textarea rows="5" cols="100" th:field="*{feedbackTuteurEnseignant}"></textarea></div>
            </div>
        </section>

        <div class="form-actions">
            <button type="submit" class="btn-save">üíæ Enregistrer</button>
        </div>
    </form>
</main>
</body>
</html>
