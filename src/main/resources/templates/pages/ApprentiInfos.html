<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Informations de l'apprenti</title>
    <link rel="stylesheet" th:href="@{/css/apprentiInfos.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
</head>
<body>
<div th:replace="partials/navbar :: navbar"></div>

<main class="apprenti-page">
    <header class="page-header">
        <h1>Informations de l'apprenti</h1>
        <a class="back-btn" th:href="@{/ui/dashboard/apprentice/edit/{id}(id=${apprenti.id})}">Modifier l'apprenti</a>
    </header>

    <!-- SECTION 1 : Informations générales -->
    <section class="info-section">
        <h2>Informations générales</h2>
        <div class="info-grid" th:if="${apprenti != null}">
            <div><span>Id</span><p th:text="${apprenti.id}"></p></div>
            <div><span>Nom</span><p th:text="${apprenti.nom}"></p></div>
            <div><span>Prénom</span><p th:text="${apprenti.prenom}"></p></div>
            <div><span>Email</span><p th:text="${apprenti.email}"></p></div>
            <div><span>Téléphone</span><p th:text="${apprenti.telephone}"></p></div>
            <div><span>Adresse</span><p th:text="${apprenti.adresse}"></p></div>
            <div><span>Niveau</span><p th:text="${apprenti.anneeLevel}"></p></div>
            <div><span>État</span><p th:text="${apprenti.etat}"></p></div>
            <div><span>Promotion</span><p th:text="${apprenti.anneeAcademique.annee}"></p></div>
        </div>
    </section>

    <!-- SECTION 2 : Entreprise -->
    <section class="info-section enterprise">
        <h2>Entreprise</h2>
        <div class="info-grid" th:if="${apprenti.entreprise != null}">
            <div><span>Raison sociale</span><p th:text="${apprenti.entreprise.raisonSociale}"></p></div>
            <div><span>Adresse</span><p th:text="${apprenti.entreprise.adresse}"></p></div>
            <div><span>Adresse</span><p th:text="${apprenti.entreprise.infosAcces}"></p></div>
        </div>
    </section>

    <!-- SECTION 3 : Maître d’apprentissage -->
    <section class="info-section supervisor">
        <h2>Maître d’apprentissage</h2>
        <div class="info-grid" th:if="${apprenti.maitreApprentissage != null}">
            <div><span>Nom</span><p th:text="${apprenti.maitreApprentissage.nom}"></p></div>
            <div><span>Prénom</span><p th:text="${apprenti.maitreApprentissage.prenom}"></p></div>
            <div><span>Email</span><p th:text="${apprenti.maitreApprentissage.email}"></p></div>
            <div><span>Poste</span><p th:text="${apprenti.maitreApprentissage.poste}"></p></div>
            <div><span>Téléphone</span><p th:text="${apprenti.maitreApprentissage.telephone}"></p></div>
        </div>
    </section>

    <!-- SECTION 4 : Évaluation école -->
    <section class="info-section evaluation">
        <h2>Évaluation de l'école</h2>
        <div class="info-grid" th:if="${apprenti.evaluationEcole != null}">
            <div><span>Thème</span><p th:text="${apprenti.evaluationEcole.theme}"></p></div>
            <div><span>Note</span><p th:text="${apprenti.evaluationEcole.noteFinale}"></p></div>
            <div class="full"><span>Commentaire</span><p th:text="${apprenti.evaluationEcole.commentaires}"></p></div>
        </div>
    </section>

    <!-- SECTION 5 : Soutenance -->
    <section class="info-section soutenance">
        <h2>Soutenance</h2>
        <div class="info-grid" th:if="${apprenti.soutenance != null}">
            <div><span>Date</span><p th:text="${apprenti.soutenance.date}"></p></div>
            <div><span>Note</span><p th:text="${apprenti.soutenance.noteFinale}"></p></div>
            <div class="full"><span>Commentaire</span><p th:text="${apprenti.soutenance.commentaires}"></p></div>
        </div>
    </section>

    <!-- SECTION 6 : Visites -->
    <section class="info-section visits">
        <h2>Visite(s)</h2>
        <div class="visit-cards" th:each="visit : ${apprenti.visites}">
            <div class="visit-card">
                <p><strong>Date :</strong> <span th:text="${visit.date}"></span></p>
                <p><strong>Format :</strong> <span th:text="${visit.format}"></span></p>
                <p><strong>Commentaire :</strong> <span th:text="${visit.commentaires}"></span></p>
            </div>
        </div>
    </section>

    <!-- SECTION 7 : Mission -->
    <section class="info-section mission">
        <h2>Mission</h2>
        <div class="info-grid" th:if="${apprenti.mission != null}">
            <div><span>Mots clés</span><p th:text="${apprenti.mission.motsCles}"></p></div>
            <div><span>Métier</span><p th:text="${apprenti.mission.metierCible}"></p></div>
            <div class="full"><span>Commentaire</span><p th:text="${apprenti.mission.commentaires}"></p></div>
        </div>
    </section>

    <!-- SECTION 8 : Informations supplémentaires -->
    <section class="info-section tutor">
        <h2>Infos supplémentaires</h2>
        <div class="info-grid">
            <div class="full" th:if="${apprenti.remarques != null}"><span>Remarques</span><p th:text="${apprenti.remarques}"></p></div>
            <div class="full" th:if="${apprenti.feedbackTuteurEnseignant != null}"><span>Feedback</span><p th:text="${apprenti.feedbackTuteurEnseignant}"></p></div>
        </div>
    </section>
</main>
</body>
</html>
